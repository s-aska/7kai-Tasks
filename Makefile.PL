use ExtUtils::MakeMaker;

WriteMakefile(
    NAME          => 'DoubleSpark',
    AUTHOR        => 'Shinichiro Aska <s.aska.org@gmail.com>',
    VERSION_FROM  => 'lib/DoubleSpark.pm',
    PREREQ_PM     => {
        'Amon2'                               => '2.37',
        'Crypt::SaltedHash'                   => '0.05',
        'Calendar::Japanese::Holiday'         => '',
        'Data::ICal'                          => '0.16',
        'DBD::mysql'                          => '4.021',
        'Email::Sender'                       => '0.110001',
        'Email::Valid::Loose'                 => '0.05',
        'Facebook::Graph'                     => '1.0300',
        'FormValidator::Lite'                 => '0.31',
        'Furl'                                => '0.38',
        'HTML::FillInForm::Lite'              => '1.09',
        'HTTP::Session::State::Cookie'        => '0.46',
        'JSON::XS'                            => '2.33',
        'Log::Minimal'                        => '0.08',
        'Module::Find'                        => '0.11',
        'Net::OpenID::Consumer::Lite'         => '0.03',
        'Net::Twitter::Lite'                  => '0.12004',
        'OAuth::Lite'                         => '1.31',
        'Path::Class'                         => '0.24',
        'Plack::Middleware::Log::Minimal'     => '0.06',
        'Plack::Middleware::ReverseProxy'     => '0.09',
        'Plack::Middleware::Scope::Container' => '0.01',
        'Scope::Container'                    => '0.04',
        'SQL::Maker'                          => '1.03',
        'String::Random'                      => '0.22',
        'Sub::Retry'                          => '0.03',
        'Teng'                                => '0.14',
        'Text::Xslate'                        => '1.6001',
        'Text::Xslate::Bridge::TT2Like'       => '0.00008',
        'Time::Piece'                         => '1.20',
        'XML::RSS'                            => '1.49',
    },
    MIN_PERL_VERSION => '5.008001',
    (-d 'xt' and $ENV{AUTOMATED_TESTING} || $ENV{RELEASE_TESTING}) ? (
        test => {
            TESTS => 't/*.t xt/*.t',
        },
    ) : (),
);
